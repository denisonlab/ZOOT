---
title: "tazoot_swap_LLM"
author: Jenny
output: github_document
date: "2025-04-30"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(warning = FALSE, message = FALSE) 
suppressPackageStartupMessages(library(tidyverse))
library(tidyverse)
library(lme4)
library(car)




knitr::opts_chunk$set(echo = TRUE)

#### anova setup #### 
options(contrasts=c("contr.sum","contr.poly"))

#### load data #### 
wd <- getwd()
analysisName = 'tazoot_point93_errSwapAcc'
dataName <- sprintf("/Users/jennymotzer/Documents/GitHub/ZOOT/stats/%s.csv", analysisName)
data <- read.csv(dataName)
# removes NaN rows from data 
data_clean <- data[!is.nan(data$point95_SwapAcc), ]
data <- data_clean
#### Change to categorical vars ####
data$SID <- factor(data$SID)
data$targetContrast <- factor(data$targetContrast)
data$nontargetContrast <- factor(data$nontargetContrast)
data$Target <- factor(data$Target, levels = c("T1", "T2"), ordered = TRUE)
data$Validity <- factor(data$Validity,
                        levels = c("invalid", "neutral", "valid"),
                        ordered = TRUE)

### Plotting setup #### 
colors = c("#F8A299","#CCCCCC","#98E6A1")
attComparison <- list( c("1","3"), c("1","2"), c("2","3") )

significance <- list(cutpoints = c(0, 0.0001, 0.001, 0.01, 0.05, Inf),
symbols = c("****", "***", "**", "*", "ns"))

```

```{r swap}
d = data
swap.lmm.lme4 <- lmer(point95_SwapAcc ~ Validity * Target * targetContrast * nontargetContrast + (1|SID), data=d)
summary(swap.lmm.lme4)
aov.swap <- Anova(swap.lmm.lme4)
```

```{r swap validity only}
d = data
swap_validity.lmm.lme4 <- lmer(point95_SwapAcc ~ Validity + (1|SID), data=d)
summary(swap_validity.lmm.lme4)
aov.swap <- Anova(swap_validity.lmm.lme4)
```
